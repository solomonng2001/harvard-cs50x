<!DOCTYPE html>

<html lang="en">
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <link href="styles.css" rel="stylesheet">
        <title>Multiplication Table</title>

        <script>

            document.addEventListener('DOMContentLoaded', function() {

                // Define andom integer generator function
                function getRandomIntInclusive(min, max) {
                    min = Math.ceil(min);
                    max = Math.floor(max);
                    return Math.floor(Math.random() * (max - min + 1) + min);
                }

                // Define generate question function
                function generateQuestion() {
                    x = getRandomIntInclusive(1, 12);
                    y = getRandomIntInclusive(1, 12);
                    equation = document.querySelector('#question');
                    equation.innerHTML = `What is the value of ${x} X ${y}?</a>`;
                }

                // Generate question
                generateQuestion();

                // Check answer upon clicking 'check answer' button
                mistakes = document.querySelector('#mistakes');
                correctness = document.querySelector('#correctness');
                answer = document.querySelector('#answer');
                document.querySelector('#check-button').onclick = function() {
                    if (answer.value == x * y) {
                        correctness.innerHTML = 'Correct!';
                        answer.style.backgroundColor = 'Green';
                    }
                    else if (answer.value != ''){
                        correctness.innerHTML = 'Wrong!';
                        answer.style.backgroundColor = 'Red';
                        mistakes.innerHTML += `<a class="dropdown-item" href="#">${x} X ${y} = ${x * y}, Not ${answer.value}`;
                    }
                };

                //Next Question
                document.querySelector('#next').onclick = function() {
                    generateQuestion();
                    correctness.innerHTML = '';
                    answer.style.backgroundColor = '';
                    answer.value = '';
                    answer.placeholder = 'Answer';
                };
            });

        </script>

    </head>
    <body>

        <!-- Page title -->
        <div id="pageheader">
            <h1 class="heading">Multiplication Table</h1>
            <h5 class="heading">Welcome and Happy Learning!</h5>
        </div>

        <!-- Button tab to toggle betweeen pages -->
        <div id="selecttab">
            <div class="row">
                <div class="col">
                    <a href="index.html">
                        <button class="floatleft">
                            <!-- Table icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-table" viewBox="0 0 16 16">
                              <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
                            </svg>
                            Table
                        </button>
                    </a>
                </div>
                <div class="col-md-auto"></div>
                <div class="col col-lg-2">
                    <a href="pedigogy.html">
                        <button class="floatright">Pedigogy</button>
                    </a>
                </div>
                <div class="col col-lg-2">
                    <a href="instructions.html">
                        <button class="floatright">Instructions</button>
                    </a>
                </div>
                <div class="col col-lg-2">
                    <a href="testmyself.html">
                        <button class="floatright">Test Myself</button>
                    </a>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">

                <!-- Left column: question, answer, button and correctness -->
                <div class="col">
                    <h4 id='question'></h4>
                    <form>
                        <div id='openended-form-container' class="btn-group" role="group" aria-label="Basic example">
                            <button id='check-button' type="button" class="btn btn-secondary">Check Answer</button>
                            <button id='next' type="button" class="btn btn-secondary">Next Question</button>
                        </div>
                        <div>
                            <input id='answer' autocomplete='off' autofocus placeholder='Answer' type='text'>
                        </div>
                    </form>
                    <h5 id='correctness'></h5>
                </div>

                <!-- Mistakes dropdown list -->
                <div class="col">

                    <!-- Dropdown button -->
                    <div class="dropdown">
                        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Learn From My Mistakes
                        </a>
                        <div id='mistakes' class="dropdown-menu" aria-labelledby="dropdownMenuLink"></div>
                    </div>

                </div>
            </div>
        </div>

    </body>
</html>
